import{r as i,j as e,k as b}from"./index-C6a6N-4U.js";import{F as y}from"./FloatingAiChatbot-CRoTPVzb.js";function N({user:a}){const[c,o]=i.useState([{id:"c1",role:"ai",text:"Hi! Tell me what you like to study and I will recommend modules and tutors."}]),[d,l]=i.useState(""),x=s=>{s.preventDefault();const t=d.trim();if(!t)return;const u={id:`u_${Date.now()}`,role:"user",text:t};o(r=>[...r,u]),l("");const{subjectHint:n,recommendedModules:m,recommendedTutors:h}=b(t,a?.id),p=`Based on your interest${n?` in ${n}`:""}, here are some picks:`,g={id:`a_${Date.now()}`,role:"ai",text:p,modules:m,tutors:h};setTimeout(()=>o(r=>[...r,g]),300)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Chatbot"}),e.jsx("p",{className:"text-gray-600",children:"Ask for module or tutor recommendations."})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm grid grid-rows-[1fr_auto] h-[70vh]",children:[e.jsx("div",{className:"overflow-y-auto p-4 space-y-4",children:c.map(s=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`${s.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"} max-w-[75%] rounded-2xl px-4 py-3 shadow-sm`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.text}),s.role==="ai"&&(s.modules?.length||s.tutors?.length)&&e.jsxs("div",{className:"mt-3 space-y-3",children:[s.modules?.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Recommended Modules"}),e.jsx("ul",{className:"mt-1 space-y-1",children:s.modules.map(t=>e.jsxs("li",{className:"rounded-md border border-gray-200 bg-white text-gray-900 px-3 py-2",children:[e.jsx("p",{className:"text-sm font-medium",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-600",children:[t.subject," • ",t.level," • ",t.duration]})]},t.id))})]}),s.tutors?.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Recommended Tutors"}),e.jsx("ul",{className:"mt-1 space-y-1",children:s.tutors.map(t=>e.jsxs("li",{className:"rounded-md border border-gray-200 bg-white text-gray-900 px-3 py-2",children:[e.jsx("p",{className:"text-sm font-medium",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[t.subject," • ⭐ ",t.rating," • RM ",t.pricePerHour,"/hr"]})]},t.id))})]})]})]})},s.id))}),e.jsxs("form",{onSubmit:x,className:"border-t border-gray-200 p-3 flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type a message... (e.g., I prefer Math)",value:d,onChange:s=>l(s.target.value)}),e.jsx("button",{type:"submit",className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Send"})]})]}),e.jsx(y,{user:a})]})}export{N as default};
