import{r as p,u as F,j as e,L as T,s as g,b as A}from"./index-yWr8wzxB.js";function H({onLogin:f}){const[t,n]=p.useState({name:"",email:"",password:"",confirmPassword:"",role:"student",preferredSubjects:[],studentIntro:"",profilePhoto:null,tutorSubjects:[],tutorBio:"",pricePerHour:"",education:[{degree:"",university:"",year:""}],teachingExperience:[{position:"",organization:"",duration:""}],certificates:[],languages:[],responseTime:"",experience:"",nextAvailable:""}),[u,i]=p.useState(""),m=F(),o=r=>{const{name:s,value:a,type:l,selectedOptions:P}=r.target;if(s==="tutorSubjects"||s==="languages"||s==="preferredSubjects"){const c=Array.from(P).map(d=>d.value);n(d=>({...d,[s]:c}))}else if(s.startsWith("education[")||s.startsWith("teachingExperience[")){const c=s.match(/(\w+)\[(\d+)\]\.(\w+)/);if(c){const[,d,C,S]=c;n(h=>({...h,[d]:h[d].map((b,E)=>E===parseInt(C)?{...b,[S]:a}:b)}))}}else n({...t,[s]:a})},x=r=>{const s=r.target.files&&r.target.files[0];n(a=>({...a,profilePhoto:s}))},y=r=>{const s=Array.from(r.target.files);n(a=>({...a,certificates:s.map(l=>({name:l.name,file:l}))}))},j=()=>{n(r=>({...r,education:[...r.education,{degree:"",university:"",year:""}]}))},v=r=>{n(s=>({...s,education:s.education.filter((a,l)=>l!==r)}))},N=()=>{n(r=>({...r,teachingExperience:[...r.teachingExperience,{position:"",organization:"",duration:""}]}))},w=r=>{n(s=>({...s,teachingExperience:s.teachingExperience.filter((a,l)=>l!==r)}))},k=r=>{if(r.preventDefault(),i(""),t.password!==t.confirmPassword){i("Passwords do not match");return}if(t.password.length<6){i("Password must be at least 6 characters");return}if(t.role==="student"&&!t.preferredSubjects.length){i("Please select at least one preferred subject");return}if(t.role==="tutor"){if(!t.tutorSubjects.length){i("Please select at least one subject");return}if(!t.tutorBio.trim()){i("Please provide a bio/description");return}if(!t.pricePerHour||isNaN(t.pricePerHour)||t.pricePerHour<=0){i("Please enter a valid hourly rate");return}if(!t.languages.length){i("Please select at least one language");return}if(!t.experience.trim()){i("Please specify your teaching experience");return}}const s={name:t.name,email:t.email,password:t.password,role:t.role,avatarUrl:`https://api.dicebear.com/7.x/thumbs/svg?seed=${t.name}`,points:t.role==="student"?0:void 0,progress:t.role==="student"?0:void 0,preferredSubjects:t.role==="student"?t.preferredSubjects:void 0,studentIntro:t.role==="student"?t.studentIntro:void 0,subject:t.role==="tutor"?t.tutorSubjects[0]||"Mathematics":void 0,subjects:t.role==="tutor"?t.tutorSubjects:void 0,bio:t.role==="tutor"?t.tutorBio:void 0,pricePerHour:t.role==="tutor"?parseInt(t.pricePerHour):void 0,rating:t.role==="tutor"?0:void 0,totalSessions:t.role==="tutor"?0:void 0,status:t.role==="tutor"?"pending":void 0,verified:t.role==="tutor"?!1:void 0,responseTime:t.role==="tutor"?t.responseTime:void 0,languages:t.role==="tutor"?t.languages:void 0,nextAvailable:t.role==="tutor"?t.nextAvailable:void 0,experience:t.role==="tutor"?t.experience:void 0,latestReview:t.role==="tutor"?"":void 0,education:t.role==="tutor"?t.education.filter(l=>l.degree&&l.university):void 0,teachingExperience:t.role==="tutor"?t.teachingExperience.filter(l=>l.position&&l.organization):void 0,certificates:t.role==="tutor"?t.certificates.map(l=>l.name):void 0,availability:t.role==="tutor"?[]:void 0,tutorSessions:t.role==="tutor"?[]:void 0};A(s);const a={...s,id:`user_${Date.now()}`,joinedDate:new Date().toISOString().split("T")[0],points:t.role==="student"?0:void 0,progress:t.role==="student"?0:void 0};f(a),t.role==="student"?m("/student"):t.role==="tutor"&&m("/tutor")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:`${t.role==="tutor"||t.role==="student"?"max-w-4xl":"max-w-md"} w-full space-y-8`,children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"select-none inline-block",children:[e.jsx("span",{className:"text-3xl font-extrabold tracking-tight text-blue-700",children:"Tutor"}),e.jsx("span",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:"ly"})]}),e.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(T,{to:"/signin",className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"sign in to existing account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your full name",value:t.name,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email",value:t.email,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I want to be a"}),e.jsxs("select",{id:"role",name:"role",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t.role,onChange:o,children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"tutor",children:"Tutor"})]})]}),t.role==="student"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"preferredSubjects",className:"block text-sm font-medium text-gray-700",children:"Preferred Subjects (hold Ctrl/Cmd to select multiple) *"}),e.jsx("select",{id:"preferredSubjects",name:"preferredSubjects",multiple:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t.preferredSubjects,onChange:o,children:g.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"studentIntro",className:"block text-sm font-medium text-gray-700",children:"Self-introduction (optional)"}),e.jsx("textarea",{id:"studentIntro",name:"studentIntro",rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Tell us about yourself and your learning goals...",value:t.studentIntro,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"studentProfilePhoto",className:"block text-sm font-medium text-gray-700",children:"Profile Photo"}),e.jsx("input",{id:"studentProfilePhoto",name:"studentProfilePhoto",type:"file",accept:"image/*",onChange:x,className:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:rounded-md file:border-0 file:bg-blue-50 file:px-3 file:py-2 file:text-blue-700 hover:file:bg-blue-100"}),t.profilePhoto&&e.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Selected: ",t.profilePhoto.name]})]})]})]})}),t.role==="tutor"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tutorSubjects",className:"block text-sm font-medium text-gray-700",children:"Subjects (hold Ctrl/Cmd to select multiple) *"}),e.jsx("select",{id:"tutorSubjects",name:"tutorSubjects",multiple:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t.tutorSubjects,onChange:o,children:g.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pricePerHour",className:"block text-sm font-medium text-gray-700",children:"Hourly Rate (RM) *"}),e.jsx("input",{id:"pricePerHour",name:"pricePerHour",type:"number",min:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 35",value:t.pricePerHour,onChange:o})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"tutorBio",className:"block text-sm font-medium text-gray-700",children:"Bio/Description *"}),e.jsx("textarea",{id:"tutorBio",name:"tutorBio",rows:4,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Tell students about your experience and teaching style...",value:t.tutorBio,onChange:o})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"profilePhoto",className:"block text-sm font-medium text-gray-700",children:"Profile Photo"}),e.jsx("input",{id:"profilePhoto",name:"profilePhoto",type:"file",accept:"image/*",onChange:x,className:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:rounded-md file:border-0 file:bg-blue-50 file:px-3 file:py-2 file:text-blue-700 hover:file:bg-blue-100"}),t.profilePhoto&&e.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Selected: ",t.profilePhoto.name]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Education Background"}),e.jsx("button",{type:"button",onClick:j,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ Add Education"})]}),t.education.map((r,s)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 p-4 bg-white rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Degree"}),e.jsx("input",{name:`education[${s}].degree`,type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., PhD in Mathematics",value:r.degree,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"University"}),e.jsx("input",{name:`education[${s}].university`,type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., University of Technology Malaysia",value:r.university,onChange:o})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),e.jsx("input",{name:`education[${s}].year`,type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 2018-2022",value:r.year,onChange:o})]}),t.education.length>1&&e.jsx("button",{type:"button",onClick:()=>v(s),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]})]},s))]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teaching Experience"}),e.jsx("button",{type:"button",onClick:N,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ Add Experience"})]}),t.teachingExperience.map((r,s)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 p-4 bg-white rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Position"}),e.jsx("input",{name:`teachingExperience[${s}].position`,type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., Online Tutor",value:r.position,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organization"}),e.jsx("input",{name:`teachingExperience[${s}].organization`,type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., Tutorly Platform",value:r.organization,onChange:o})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),e.jsx("input",{name:`teachingExperience[${s}].duration`,type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 2022 - Present",value:r.duration,onChange:o})]}),t.teachingExperience.length>1&&e.jsx("button",{type:"button",onClick:()=>w(s),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]})]},s))]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"languages",className:"block text-sm font-medium text-gray-700",children:"Languages (hold Ctrl/Cmd to select multiple) *"}),e.jsxs("select",{id:"languages",name:"languages",multiple:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t.languages,onChange:o,children:[e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Mandarin",children:"Mandarin"}),e.jsx("option",{value:"Malay",children:"Malay"}),e.jsx("option",{value:"Tamil",children:"Tamil"}),e.jsx("option",{value:"Hindi",children:"Hindi"}),e.jsx("option",{value:"Spanish",children:"Spanish"}),e.jsx("option",{value:"French",children:"French"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"responseTime",className:"block text-sm font-medium text-gray-700",children:"Response Time"}),e.jsxs("select",{id:"responseTime",name:"responseTime",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t.responseTime,onChange:o,children:[e.jsx("option",{value:"",children:"Select response time"}),e.jsx("option",{value:"1 hour",children:"Within 1 hour"}),e.jsx("option",{value:"2 hours",children:"Within 2 hours"}),e.jsx("option",{value:"4 hours",children:"Within 4 hours"}),e.jsx("option",{value:"24 hours",children:"Within 24 hours"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"experience",className:"block text-sm font-medium text-gray-700",children:"Teaching Experience *"}),e.jsx("input",{id:"experience",name:"experience",type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 5+ years",value:t.experience,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nextAvailable",className:"block text-sm font-medium text-gray-700",children:"Next Available"}),e.jsx("input",{id:"nextAvailable",name:"nextAvailable",type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., Tomorrow 2PM",value:t.nextAvailable,onChange:o})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Certificates"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"certificates",className:"block text-sm font-medium text-gray-700",children:"Upload Certificates (optional)"}),e.jsx("input",{id:"certificates",name:"certificates",type:"file",multiple:!0,accept:".pdf,.jpg,.png",onChange:y,className:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:rounded-md file:border-0 file:bg-blue-50 file:px-3 file:py-2 file:text-blue-700 hover:file:bg-blue-100"}),t.certificates.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selected certificates:"}),e.jsx("ul",{className:"text-xs text-gray-500 mt-1",children:t.certificates.map((r,s)=>e.jsxs("li",{children:["• ",r.name]},s))})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your password",value:t.password,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password",value:t.confirmPassword,onChange:o})]})]}),u&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:u})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Account"})})]})]})})}export{H as default};
