import{r as u,u as h,j as e,L as g,s as j,b as y}from"./index-C6a6N-4U.js";function N({onLogin:m}){const[t,n]=u.useState({name:"",email:"",password:"",confirmPassword:"",role:"student",tutorSubjects:[],tutorBio:"",certificateName:""}),[c,a]=u.useState(""),d=h(),o=r=>{const{name:s,value:l,type:v,selectedOptions:f}=r.target;if(s==="tutorSubjects"){const p=Array.from(f).map(i=>i.value);n(i=>({...i,tutorSubjects:p}))}else n({...t,[s]:l})},x=r=>{const s=r.target.files&&r.target.files[0];n(l=>({...l,certificateName:s?s.name:""}))},b=r=>{if(r.preventDefault(),a(""),t.password!==t.confirmPassword){a("Passwords do not match");return}if(t.password.length<6){a("Password must be at least 6 characters");return}if(t.role==="tutor"){if(!t.tutorSubjects.length){a("Please select at least one subject");return}if(!t.tutorBio.trim()){a("Please provide a short self-introduction");return}if(!t.certificateName){a("Please upload a certificate (mock)");return}}const s={name:t.name,email:t.email,password:t.password,role:t.role,avatarUrl:`https://api.dicebear.com/7.x/thumbs/svg?seed=${t.name}`,subject:t.role==="tutor"?t.tutorSubjects[0]||"Mathematics":void 0,bio:t.role==="tutor"?t.tutorBio:void 0,certificateName:t.role==="tutor"?t.certificateName:void 0,status:t.role==="tutor"?"pending":void 0,totalSessions:t.role==="tutor"?0:void 0};y(s);const l={...s,id:`user_${Date.now()}`,joinedDate:new Date().toISOString().split("T")[0],points:t.role==="student"?0:void 0,progress:t.role==="student"?0:void 0};m(l),t.role==="student"?d("/student"):t.role==="tutor"&&d("/tutor")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"select-none inline-block",children:[e.jsx("span",{className:"text-3xl font-extrabold tracking-tight text-blue-700",children:"Tutor"}),e.jsx("span",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:"ly"})]}),e.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(g,{to:"/signin",className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"sign in to existing account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your full name",value:t.name,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email",value:t.email,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I want to be a"}),e.jsxs("select",{id:"role",name:"role",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t.role,onChange:o,children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"tutor",children:"Tutor"})]})]}),t.role==="tutor"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tutorSubjects",className:"block text-sm font-medium text-gray-700",children:"Subjects (hold Ctrl/Cmd to select multiple)"}),e.jsx("select",{id:"tutorSubjects",name:"tutorSubjects",multiple:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:t.tutorSubjects,onChange:o,children:j.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tutorBio",className:"block text-sm font-medium text-gray-700",children:"Short self-introduction"}),e.jsx("textarea",{id:"tutorBio",name:"tutorBio",rows:4,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Tell students about your experience and teaching style...",value:t.tutorBio,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"certificate",className:"block text-sm font-medium text-gray-700",children:"Upload certificate (mock)"}),e.jsx("input",{id:"certificate",name:"certificate",type:"file",accept:".pdf,.jpg,.png",onChange:x,className:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:rounded-md file:border-0 file:bg-blue-50 file:px-3 file:py-2 file:text-blue-700 hover:file:bg-blue-100"}),t.certificateName&&e.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Selected: ",t.certificateName]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your password",value:t.password,onChange:o})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password",value:t.confirmPassword,onChange:o})]})]}),c&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:c})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Account"})})]})]})})}export{N as default};
