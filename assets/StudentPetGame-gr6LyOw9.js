import{r as c,j as e,i as g}from"./index-yWr8wzxB.js";import{F as p}from"./FloatingAiChatbot-DdYjnADj.js";function b({user:t,onUpdatePoints:x,pet:s,onUpdatePet:n}){const[r,a]=c.useState(""),l=20;c.useEffect(()=>{if(!s.lastFedAt)return;const i=Date.now(),d=1440*60*1e3;if(i-s.lastFedAt>=d){const o=Math.max(0,Math.floor(s.happiness*.5));n({...s,happiness:o,lastFedAt:i}),a(`Your pet wasn't fed for a day! Happiness dropped to ${o}`),setTimeout(()=>a(""),5e3)}},[s,n]);const h=()=>{if(t.points>=l){const i=g(),d=Date.now();x(t.points-i),n({...s,happiness:Math.min(100,s.happiness+15),level:s.level+1,totalFed:(s.totalFed||0)+1,lastFedAt:d}),a(`Fed ${s.name}! Happiness +15, Level +1`),setTimeout(()=>a(""),3e3)}else a("Not enough points to feed your pet!"),setTimeout(()=>a(""),3e3)},m=()=>s.happiness>=80?"😊":s.happiness>=60?"🙂":s.happiness>=40?"😐":s.happiness>=20?"😕":"😢";return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Virtual Pet Game"}),e.jsx("p",{className:"text-gray-600",children:"Take care of your pet by spending points!"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Your Points"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.points})]})]}),r&&e.jsx("div",{className:`${r.includes("Not enough")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"} rounded-md p-4`,children:r}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto h-32 w-32 rounded-full bg-gradient-to-br from-yellow-200 to-orange-300 flex items-center justify-center text-6xl",children:m()}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-lg text-gray-600",children:["Level ",s.level]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Happiness"}),e.jsxs("span",{children:[s.happiness,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${s.happiness}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-600",children:"Total Fed"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.totalFed||0})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-600",children:"Last Fed"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.lastFedAt?new Date(s.lastFedAt).toLocaleDateString():"Never"})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:h,disabled:t.points<l,className:`w-full rounded-md px-4 py-3 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 ${t.points>=l?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:["Feed Pet (-",l," points)"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"• Feeding increases happiness by 15%"}),e.jsx("p",{children:"• Pet levels up with each feeding"}),e.jsx("p",{children:"• Earn points by completing modules"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Complete learning modules to earn points"}),e.jsx("li",{children:"• Keep your pet happy by feeding regularly"}),e.jsx("li",{children:"• Higher level pets are happier and more active"}),e.jsx("li",{children:"• Check back daily to maintain your pet's health. If you don't feed your pet for a day, its happiness will drop by 50%."})]})]})]})]}),e.jsx(p,{user:t})]})}export{b as default};
